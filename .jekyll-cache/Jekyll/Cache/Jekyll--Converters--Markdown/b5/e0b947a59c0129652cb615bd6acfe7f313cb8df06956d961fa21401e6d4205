I"A;<p>In the olden days we had to install the entire set of components, making a basis for a framework to work on. This can still be done by installing the website skeleton. This is useful if you know that that is what you need to get started.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">composer create-project symfony/website-skeleton my_project</span>
</code></pre></div></div>

<p>But is it fun. Lets take a deeper dive in installing components.</p>

<h2 id="skeleton">Skeleton</h2>
<p>Lets install the bare core of symfony.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">composer create-project symfony/skeleton my_project</span>
</code></pre></div></div>
<p>This is what i got next. Let us read a little.</p>

<h2 id="whats-next">What’s next?</h2>
<p>Run your application:</p>

<ul>
  <li>Change to the project directory</li>
  <li>Create your code repository with the git init command</li>
  <li>Run composer require server — dev to install the development web server, or configure another supported web server <a href="https://symfony.com/doc/current/setup/web_server_configuration.html">https://symfony.com/doc/current/setup/web_server_configuration.html</a></li>
</ul>

<p>Go to a folder, add stuff to git, enable a (local) server or check something else. I am testing so i like a local server for now. I like to see the stuff i do in a browser. Lets install.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">composer require server --dev</span>
</code></pre></div></div>
<p>Cool, we added a local php dev server. Shall we start, we can start the server on the command line.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">bin/console server:start</span>
</code></pre></div></div>
<blockquote>
  <p>[OK] Server listening on <a href="http://127.0.0.1:8000/">http://127.0.0.1:8000</a></p>
</blockquote>

<p>Server started, lets open a web browser and browse to that url, we have a splash screen where it welcomes us to symfony.</p>

<p>Lets take a step back.</p>

<h2 id="flex-recipes">Flex recipes</h2>
<p>As you saw, we installed a package using composer name server. This is no normal package name. No! But what it is is a symfony flex recipe. This means that when we call require on a composer the code first checks if there is a recipe on the flex server. There are a bunch of recipes on the base repository and a lot more on the contrib repository. All the recipes can be found on the <a href="https://flex.symfony.com/">Symfony Recipes Server</a>. Here you can find all packages and their aliases. So if you search for server yu actually find the “symfony/web-server-bundle”. This is what we just installed.</p>

<h2 id="folder-structure">Folder structure</h2>
<p>What we installed with the basic skeleton has a basic folder structure. Lets check a bit.</p>

<ul>
  <li>bin (for the “bin/console” command)</li>
  <li>config (for all the config files, services and routes etc)</li>
  <li>public (public folder, base point for a web server)</li>
  <li>src (code for the main project)</li>
  <li>var (for logs and caching)</li>
  <li>vendor (for all the git packages)</li>
</ul>

<p>Thats it for now, just make it easy. Lets just continue.</p>

<h2 id="control-the-flow">Control the flow</h2>

<p>If we check the “config/routes.yaml” we see a commented out controller path. Lets just check it for now. Create “src/Controller/DefaultController.php” and add something like this.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>

<span class="kn">namespace</span> <span class="nn">App\Controller</span><span class="p">;</span>

<span class="kn">use</span> <span class="nn">Symfony\Bundle\FrameworkBundle\Controller\AbstractController</span><span class="p">;</span>
<span class="kn">use</span> <span class="nn">Symfony\Component\HttpFoundation\Response</span><span class="p">;</span>
<span class="kd">class</span> <span class="nc">DefaultController</span> <span class="k">extends</span> <span class="nx">AbstractController</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Response</span><span class="p">(</span><span class="s1">'Hello world'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<p>We just made our first controller. Note that we do not have anything yet, no database, no templating engine, no nothing. But when we uncomment the route in the “routes.yaml” we do have a nice hello world in our browser.</p>

<h2 id="make-something-beautiful">Make something beautiful</h2>
<p>Yes there is a pun in the title. Lets add the maker bundle. This will make live easy for a quick demo. Also when you get lost you can use this. I searched on the recipes server and found that “make” is the shortest alias for this bundle.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">composer require make --dev</span>
</code></pre></div></div>
<p>Now when we check the commands we can run on the command line we see a lot of make command. I forgot to mention, but you can check the commands on the command line using this command.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">bin/console</span>
</code></pre></div></div>
<p>It lists them nicely, i found a make for a controller.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">bin/console make:controller</span>
</code></pre></div></div>
<p>Sadly, making a controller requires us to add the annotations recipe. If you would ask me, strongly recommended.</p>

<blockquote>
  <p>[ERROR] Missing package: to use the make:controller command, run:</p>
  <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">composer require annotations</span>
<span class="s">composer require annotations</span>
</code></pre></div>  </div>
  <p>This added a yaml file in the routes. Here it added a “yes you can annotate a route and we will route there from the src folder” option. Very useful.</p>
</blockquote>

<p>Next, make a new controller again. This asked us to name the controller, with an example. My example was “AgreeableKangarooController” so i agreed and got this controller.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>

<span class="kn">namespace</span> <span class="nn">App\Controller</span><span class="p">;</span>

<span class="kn">use</span> <span class="nn">Symfony\Bundle\FrameworkBundle\Controller\AbstractController</span><span class="p">;</span>
<span class="kn">use</span> <span class="nn">Symfony\Component\Routing\Annotation\Route</span><span class="p">;</span>

<span class="kd">class</span> <span class="nc">AgreeableKangarooController</span> <span class="k">extends</span> <span class="nx">AbstractController</span>
<span class="p">{</span>
    <span class="cd">/**
     * @Route("/agreeable/kangaroo", name="agreeable_kangaroo")
     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">json</span><span class="p">([</span>
            <span class="s1">'message'</span> <span class="o">=&gt;</span> <span class="s1">'Welcome to your new controller!'</span><span class="p">,</span>
            <span class="s1">'path'</span> <span class="o">=&gt;</span> <span class="s1">'src/Controller/AgreeableKangarooController.php'</span><span class="p">,</span>
        <span class="p">]);</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>
<p>This made a route to <a href="http://127.0.0.1:8000/agreeable/kangaroo">http://127.0.0.1:8000/agreeable/kangaroo</a>! Cool, we got some json here.</p>

<h2 id="next">Next!</h2>
<p>We can make stuff, we have a server, and we can see stuff in a browser. If that was all you wanted to do we can stop here! Enjoy your new application. And for some use cases it can be this easy. You could just connect to an existing web service to connect all your data. Add a guzzle client for request or an elastic search client for example, connect them somewhere, and just output your json.</p>

<h2 id="some-more-recipes">Some more recipes</h2>
<p>Off course we will not end here today, lets check some packages. We can just run some more make commands en see where we end up. For starters i tried to make and entity, i want a local database. This said to me to:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">composer require orm</span>
</code></pre></div></div>
<p>And for a quick setup i changed the “DATABASE_URL” to the sqlite version in my “.env” file.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">DATABASE_URL=sqlite:///%kernel.project_dir%/var/data.db</span>
</code></pre></div></div>
<p>And i created my database (check “bin/console” for all the commands)</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">bin/console doctrine:database:create</span>
</code></pre></div></div>
<p>Database done! So i made my entity again.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">bin/console make:entity</span>
</code></pre></div></div>
<p>It told me to make a “GrumpyPuppy” entity, so sure! I added a name (string) and a description (text).</p>

<h2 id="crud">Crud</h2>
<p>Next up i want to create a crud controller for my “GrumpyPuppy” entity. This is what they asked me.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">composer require form validator twig-bundle security-csrf</span>
</code></pre></div></div>
<p>Validator, twig and the csrf security. Ok, install those. Next, crud again.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">bin/console make:crud</span>
</code></pre></div></div>
<p>And it autocompleted my “GrumpyPuppy” entity and make a “GrumpyPuppyController” and added the templates needed. We do need to create the table. Check the table using this.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">bin/console doctrine:schema:update --dump-sql</span>
</code></pre></div></div>
<p>And make the table</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">bin/console doctrine:schema:update --force</span>
</code></pre></div></div>
<p>Now we have the table, controller, crud and when we check the local server we have the crud in our browser. <a href="https://symfony.com/doc/master/frontend.html">http://127.0.0.1:8000/grumpy/puppy/</a>. Cool, but it looks like plain old html. Lets upgrade the html/css.</p>

<h2 id="webpack-encore">Webpack encore</h2>
<p>Symfony has a component using node and npm and things for styling, lets just require those.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">composer req encore</span>
</code></pre></div></div>
<p>This will add an “assets” folder for JavaScript and style sheets. But the webpack encore talk is for another day. You can checkout the <a href="https://symfony.com/doc/master/frontend.html">documentation on the symfony site</a>. For now just know, i added a sass loader and installed bootstrap.</p>

<p>The only other thing is to update the “config/package/stwig.yaml” file and add the bootstrap 4 theme, check that out <a href="https://flex.symfony.com/">on the symfony site here</a>.</p>

<h2 id="ok-ok-i-have-to-end-this-thing">Ok ok, i have to end this thing</h2>
<p>Ok, so this was a simple thing. But now we can setup a symfony flex thing! We can setup a route, we can annotate a route. We can make stuff. We can ask symfony when we make stuff what we have to do. We can create a crud. We can create templates, responses, json responses. We have set up a database. A template system. Added a npm webpack packaging system. Versioned the css and javascript (yes, not mentioned but it was just installed out of the box). We can make every thing a small app needs.</p>

<blockquote>
  <p>So much stuff, awesome.</p>
</blockquote>

<p>Now it is time. Time you get out in the world and think of something you want to make. And find the time to actually make it. The world of <a href="https://packagist.org/">composer</a> is out there. The world of npm lies at your finger tips. <a href="https://flex.symfony.com/">Symfony recipes</a> galore!</p>

<p>Make something awesome!</p>

<h2 id="one-more-thing">One more thing!</h2>
<p>Like any talk, one more thing! In the console when you checked commands.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">bin/console</span>
</code></pre></div></div>
<p>There are a lot of debug commands. Check those, they are awesome. Ask them what they can do for you (add “ — help” on the end). For a small example the router.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">bin/console debug:router --help</span>
</code></pre></div></div>
<p>It tells you stuff. This will tell you all the router links there are in your app.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">bin/console debug:router</span>
</code></pre></div></div>
<p>Check what a route actually does.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">bin/console debug:router agreeable_kangaroo</span>
</code></pre></div></div>
<p>But there is so much more. Check it, it can only help you. Will get back on the debug stuff on a later date.</p>

<h2 id="close-curtains">Close curtains</h2>
<p>Now i think i am really done. Probably not but i will stop for now. Make stuff. it will be awesome. I also listened to a remark about adding the stuff to git. All the code here can be found on <a href="https://github.com/disjfa/symfony-setup">github here</a>. Play with it, please!</p>
:ET